parameters:
    ignoreErrors:
        # Larastan false positive: env() IS in config directory (this is a package config file)
        - identifier: larastan.noEnvCallsOutsideOfConfig
          path: config/maestro.php

        # Laravel query builder fluent API returns $this from static methods - unavoidable pattern
        - identifier: staticMethod.dynamicCall
          paths:
              - src/Infrastructure/Persistence/QueryBuilders/*
              - src/Infrastructure/Persistence/Repositories/*

        # Runtime database exceptions that static analysis cannot see
        -
            message: '#^Dead catch \- Illuminate\\Database\\QueryException is never thrown in the try block\.$#'
            identifier: catch.neverThrown
            path: src/Infrastructure/Persistence/Repositories/EloquentWorkflowRepository.php

        -
            message: '#^Method Maestro\\Workflow\\Infrastructure\\Persistence\\Repositories\\EloquentWorkflowRepository\:\:findAndLockForUpdate\(\) has Maestro\\Workflow\\Exceptions\\WorkflowLockedException in PHPDoc @throws tag but it''s not thrown\.$#'
            identifier: throws.unusedType
            path: src/Infrastructure/Persistence/Repositories/EloquentWorkflowRepository.php

        -
            message: '#^Method Maestro\\Workflow\\Infrastructure\\Persistence\\Repositories\\EloquentWorkflowRepository\:\:isLockTimeoutException\(\) is unused\.$#'
            identifier: method.unused
            path: src/Infrastructure/Persistence/Repositories/EloquentWorkflowRepository.php

        # @throws tags documenting exceptions propagated from called methods
        -
            message: '#^Method Maestro\\Workflow\\Application\\Orchestration\\WorkflowAdvancer\:\:evaluate\(\) has .+ in PHPDoc @throws tag but it''s not thrown\.$#'
            identifier: throws.unusedType
            path: src/Application/Orchestration/WorkflowAdvancer.php
